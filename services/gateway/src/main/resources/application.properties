spring.application.name=gateway
server.port=8080

# Upstreams
upstream.user-management.uri=${UPSTREAM_USER_MANAGEMENT_URI:http://user-management:8082}
upstream.movie-library.uri=${UPSTREAM_MOVIE_LIBRARY_URI:http://movielibrary:8083}

# Security / JWT (gateway validates, issuance at user-management)
security.jwt.issuer=ai_films
security.jwt.secret=${JWT_SECRET:dev_jwt_secret_change_me}

# Redis for rate limit (optional)
spring.data.redis.host=redis
spring.data.redis.port=6379
spring.data.redis.timeout=2000
spring.data.redis.client-type=lettuce

# Default rate limits
gateway.rate.replenish=100
gateway.rate.burst=200
# Auth-specific stricter limits
gateway.rate.auth.replenish=20
gateway.rate.auth.burst=40

# Actuator
management.endpoints.web.exposure.include=health,info,metrics,prometheus
management.endpoint.health.show-details=always

# Logging
logging.level.root=INFO
logging.level.com.ai_services.gateway=DEBUG

# Temporarily disable Spring Cloud/Boot compatibility check
spring.cloud.compatibility-verifier.enabled=false
